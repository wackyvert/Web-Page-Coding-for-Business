<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <link href = "stylesheets/Navigationbar.css" rel = "stylesheet"/>
    <link href = "stylesheets/general.css" rel = "stylesheet"/>
    <link href = "stylesheets/Modal.css" rel = "stylesheet"/>
    <style>
        /*button css*/
        .button {
            background-color: mediumpurple;
            border: none;
            color: white;
            padding: 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }
        .button3 {border-radius: 8px;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);}

    </style>
</head>
<body>

<ul  class = "navbar">
    <li><a href="hom.html" >Home</a></li>
    <li><a href="past.html">Past</a></li>
    <li><a href="quiz.html">Quiz</a></li>
    <li><a href="present.html">Present</a></li>
    <li><a href ="food.html">Hobbies/Interests</a></li>
</ul>
<h2>Things you can learn about me here: </h2>
<ul>
    <li>How tall I am</li>
    <li>How old I am</li>
    <li>What grade I am in</li>
    <li>What coding languages I know</li>
</ul>
<hr/>
<h2>The Quiz: </h2>
<div id="quiz" style = "padding-left: 25px"></div>
<button id="submit" class = "button button3" style = "margin-left: 25px">Submit Quiz</button>
<div id="results"></div>
<script>(function() {
    function buildQuiz() {

        const output = [];


        myQuestions.forEach((currentQuestion, questionNumber) => {

            const answers = [];


            for (letter in currentQuestion.answers) {

                answers.push(
                    `<label>
            <input type="radio" name="question${questionNumber}" value="${letter}">
            ${letter} :
            ${currentQuestion.answers[letter]}
          </label>`
                );
            }


            output.push(
                `<div class="question"> ${currentQuestion.question} </div>
        <div class="answers"> ${answers.join("")} </div>`
            );
        });


        quizContainer.innerHTML = output.join("");
    }

    function showResults() {

        const answerContainers = quizContainer.querySelectorAll(".answers");


        let numCorrect = 0;


        myQuestions.forEach((currentQuestion, questionNumber) => {

            const answerContainer = answerContainers[questionNumber];
            const selector = `input[name=question${questionNumber}]:checked`;
            const userAnswer = (answerContainer.querySelector(selector) || {}).value;


            if (userAnswer === currentQuestion.correctAnswer) {

                numCorrect++;


                answerContainers[questionNumber].style.color = "lightgreen";
            } else {

                answerContainers[questionNumber].style.color = "red";
            }
        });


        resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
    }

    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const submitButton = document.getElementById("submit");
    const myQuestions = [
        {
            question: "What grade am I in?",
            answers: {
                a: "11th",
                b: "12th",
                c: "9th"
            },
            correctAnswer: "c"
        },
        {
            question: "How old am I?",
            answers: {
                a: "15",
                b: "14",
                c: "16"
            },
            correctAnswer: "a"
        },
        {
            question: "How tall am I?",
            answers: {
                a: "5'5",
                b: "6'",
                c: "5'9",
                d: "5'8"
            },
            correctAnswer: "d"
        },
        {
            question: "What coding languages do I know?",
            answers: {
                a: "Java",
                b: "HTML",
                c: "JavaScript",
                d: "Kotlin",
                e: "All of the above"
            },
            correctAnswer: "e"
        }
    ];


    buildQuiz();


    submitButton.addEventListener("click", showResults);
})();</script>
</body>
</html>